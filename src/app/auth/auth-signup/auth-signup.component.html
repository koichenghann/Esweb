
<mat-toolbar>
  <span class="center_space"><i class="fas fa-recycle"></i> ESWEB</span>
</mat-toolbar>

<div class="container-fluid" >
  <div class="form-title text-center">Sign Up</div>

<mat-tab-group (selectedTabChange)="tabChanged($event)" [(selectedIndex)]="selectedIndex">

  <mat-tab label="Recycler" [disabled]="collector_isLoading">


    <mat-card>
      <mat-card-content>

      <form [formGroup]="form_recycler" (submit)="onRecyclerSignup()"  *ngIf="true">
        <mat-form-field appearance="outline">
          <mat-label>Username</mat-label>
          <input
            name="username"
            matInput
            type="text"
            formControlName="username"
            (ngModelChange)="validateRecyclerInput('recycler_username')"
            (change)="xd1();"  
            required
            >
            <mat-error *ngIf="form_recycler.get('username').invalid">{{ recycler_usernameError  }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input
            name="password"
            matInput

            [type]="hide ? 'password' : 'text'"
            formControlName="password"
            (ngModelChange)="validateRecyclerInput('recycler_password')"
            required
            >
            <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="form_recycler.get('password').invalid">{{ recycler_passwordError }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Full Name</mat-label>
          <input
            name="fullName"
            matInput
            type="text"

            formControlName="fullName"
            (ngModelChange)="validateRecyclerInput('recycler_fullName')"
            required
            >
            <mat-error *ngIf="form_recycler.get('fullName').invalid">{{ recycler_fullNameError }}</mat-error>
        </mat-form-field>




        <button *ngIf="!recycler_isLoading" class="btn_color" mat-raised-button color="primary" type="submit" >Sign Up</button>
        <div *ngIf="recycler_isLoading" class="text-center w-100" style="padding-top: 0.7rem;">
          <mat-spinner [diameter]="25" style="margin: auto;"></mat-spinner>
        </div>
      </form>
      <div class="option">Alraedy have an account? <a routerLink="/auth/login">Login here</a></div>
    </mat-card-content>
    </mat-card>
    <div class="spacer">

    </div>
  </mat-tab>



  <mat-tab label="Collector" [disabled]="recycler_isLoading">
    <mat-card>
      <form [formGroup]="form_collector" (submit)="onCollectorSignup()"  *ngIf="true">
        <mat-form-field appearance="outline">
          <mat-label>Username</mat-label>
          <input
            name="username"
            matInput
            type="text"
            formControlName="username"
            (ngModelChange)="validateCollectorInput('collector_username')"
            (change)="xd2(); validateCollectorInput('collector_username')"
            required
            >
            <mat-error *ngIf="form_collector.get('username').invalid">{{ collector_usernameError  }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input
            name="password"
            matInput

            formControlName="password"
            (ngModelChange)="validateCollectorInput('collector_password')"
            required
            [type]="hide ? 'password' : 'text'"
            >
            <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="form_collector.get('password').invalid">{{ collector_passwordError }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Full Name</mat-label>
          <input
            name="fullName"
            matInput
            type="text"
            formControlName="fullName"
            (change)="validateCollectorInput('collector_fullName')"
            required
            >
            <mat-error *ngIf="form_collector.get('fullName').invalid">{{ collector_fullNameError }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Address</mat-label>
          <textarea rows="1" cols="80"
            name="address"
            matInput
            type="text"
            formControlName="address"
            (ngModelChange)="validateCollectorInput('collector_address')"
            required
            ></textarea>
            <mat-error *ngIf="form_collector.get('address').invalid">{{ collector_addressError }}</mat-error>
        </mat-form-field>



        <button *ngIf="!collector_isLoading" mat-raised-button color="primary" type="submit" >Sign Up</button>
        <div *ngIf="collector_isLoading" class="text-center w-100" style="padding-top: 0.7rem;">
          <mat-spinner [diameter]="25" style="margin: auto;"></mat-spinner>
        </div>
      </form>
      <div class="option">Alraedy have an account? <a routerLink="/auth/login">Login here</a></div>
    </mat-card>
    <div class="spacer2">

    </div>
  </mat-tab>
</mat-tab-group>
</div>
